{
  "id": "https://schema.management.azure.com/schemas/2025-03-01-preview/Microsoft.Monitor.PipelineGroups.json#",
  "title": "Microsoft.Monitor",
  "description": "Microsoft Monitor Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "pipelineGroups": {
      "description": "Microsoft.Monitor/pipelineGroups",
      "properties": {
        "apiVersion": {
          "enum": [
            "2025-03-01-preview"
          ],
          "type": "string"
        },
        "extendedLocation": {
          "description": "The complex type of the extended location.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureResourceManagerCommonTypesExtendedLocation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of pipeline group. The name is case insensitive.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The resource-specific properties for this resource.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineGroupProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Monitor/pipelineGroups"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "AzureMonitorWorkspaceLogsApiConfig": {
      "description": "Azure Monitor Workspace Logs Api configurations.",
      "properties": {
        "dataCollectionEndpointUrl": {
          "description": "Data collection endpoint ingestion url.",
          "oneOf": [
            {
              "pattern": "^(https?)://[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "dataCollectionRule": {
          "description": "Data Collection Rule (DCR) immutable id.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9.-]{1,1000}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "schema": {
          "description": "The schema mapping for incoming data.",
          "oneOf": [
            {
              "$ref": "#/definitions/SchemaMap"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "stream": {
          "description": "Stream name in destination. Azure Monitor stream is related to the destination table.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9._-]{1,1000}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "dataCollectionEndpointUrl",
        "stream",
        "dataCollectionRule",
        "schema"
      ],
      "type": "object"
    },
    "AzureMonitorWorkspaceLogsExporter": {
      "description": "Azure Monitor Workspace Logs specific configurations.",
      "properties": {
        "api": {
          "description": "API configurations for Azure Monitor workspace exporter.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureMonitorWorkspaceLogsApiConfig"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "cache": {
          "description": "Cache configurations.",
          "oneOf": [
            {
              "$ref": "#/definitions/CacheConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "concurrency": {
          "description": "Concurrency configuration for the exporter.",
          "oneOf": [
            {
              "$ref": "#/definitions/ConcurrencyConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "api"
      ],
      "type": "object"
    },
    "AzureResourceManagerCommonTypesExtendedLocation": {
      "description": "The complex type of the extended location.",
      "properties": {
        "name": {
          "description": "The name of the extended location.",
          "type": "string"
        },
        "type": {
          "description": "The type of the extended location.",
          "oneOf": [
            {
              "enum": [
                "EdgeZone",
                "CustomLocation"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "type"
      ],
      "type": "object"
    },
    "BatchProcessor": {
      "description": "Batch processor.",
      "properties": {
        "batchSize": {
          "description": "Size of the batch.",
          "oneOf": [
            {
              "default": 8192,
              "maximum": 100000,
              "minimum": 10,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeout": {
          "description": "Timeout in milliseconds.",
          "oneOf": [
            {
              "default": 200,
              "maximum": 300000,
              "minimum": 10,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "CacheConfiguration": {
      "description": "Cache configurations.",
      "properties": {
        "maxStorageUsage": {
          "description": "Max storage usage in megabytes.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionPeriod": {
          "description": "Retention period in minutes.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "CertificateSource": {
      "description": "Configuration for certificate source location.",
      "properties": {
        "location": {
          "description": "Location of the certificate source.",
          "type": "string"
        },
        "subLocation": {
          "description": "Sub-location within the certificate source.",
          "type": "string"
        },
        "type": {
          "description": "The type of certificate source.",
          "oneOf": [
            {
              "enum": [
                "kubernetesSecret",
                "kubernetesConfigMap"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type",
        "location",
        "subLocation"
      ],
      "type": "object"
    },
    "CertificateWithKey": {
      "description": "TLS certificate and private key pair.",
      "properties": {
        "certificate": {
          "description": "Source configuration for the TLS certificate.",
          "oneOf": [
            {
              "$ref": "#/definitions/CertificateSource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "privateKey": {
          "description": "Source configuration for the private key. Private keys must be stored in Kubernetes secrets for security reasons.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateKeySource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "certificate",
        "privateKey"
      ],
      "type": "object"
    },
    "ConcurrencyConfiguration": {
      "description": "Concurrent publishing configuration.",
      "properties": {
        "batchQueueSize": {
          "description": "Size of the queue for log batches.",
          "oneOf": [
            {
              "default": 100,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "workerCount": {
          "description": "Number of parallel workers processing the log queues.",
          "oneOf": [
            {
              "default": 4,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DistributionPolicy": {
      "description": "Distribution policy for spreading instances across compute units.",
      "properties": {
        "maxInstancesPerHost": {
          "description": "Maximum number of instances allowed per compute unit (node/VM). If not specified, default scheduling applies.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ExecutionPlacement": {
      "description": "Constraints for guiding the execution environment of the pipeline group.",
      "properties": {
        "constraints": {
          "description": "A list of placement constraints to guide where pipelineGroup instances should run.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/PlacementConstraint"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "distribution": {
          "description": "Distribution policy for spreading instances across compute units (nodes/VMs).",
          "oneOf": [
            {
              "$ref": "#/definitions/DistributionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Exporter": {
      "description": "Exporter Info.",
      "properties": {
        "azureMonitorWorkspaceLogs": {
          "description": "Azure Monitor Workspace Logs specific configurations.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureMonitorWorkspaceLogsExporter"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of exporter.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "description": "The type of exporter.",
          "oneOf": [
            {
              "enum": [
                "AzureMonitorWorkspaceLogs"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type",
        "name"
      ],
      "type": "object"
    },
    "JsonArrayMapper": {
      "description": "A component that allows parsing a value from sourceField as a json array, match a key to each parsed value from keys, and output the key-value map to destinationField field.",
      "properties": {
        "destinationField": {
          "description": "Define a destination field to which the parsed output will be written. The output is a map, it's keys is the given keys array and the matching values are the parsed json array elements.",
          "oneOf": [
            {
              "$ref": "#/definitions/JsonMapperDestinationField"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "keys": {
          "description": "Define the names of the keys in the resulting map. The input json array elements are mapped in order, one for every key.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sourceField": {
          "description": "Define a source field from which a json array will be read and parsed to it's elements. The number of elements in the json array is expected to be the same as the length of keys.",
          "oneOf": [
            {
              "$ref": "#/definitions/JsonMapperSourceField"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "keys"
      ],
      "type": "object"
    },
    "JsonMapperDestinationField": {
      "description": "JsonArrayMapper destination field used to describe the field to which the parsed output will be written.",
      "properties": {
        "destination": {
          "description": "Define the destination's element. The element is the body or the attributes of the message, to which the json array mapper will write the output map.",
          "oneOf": [
            {
              "enum": [
                "body",
                "attributes"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "fieldName": {
          "description": "Define a destination field name under the given element. Leaving this empty, means the root of the element. In case element=attributes and fieldName is empty, the object's attributes themselves will contain the key value output pairs.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "JsonMapperSourceField": {
      "description": "JsonArrayMapper source field used to describe the field from which the json array will be read.",
      "properties": {
        "fieldName": {
          "description": "Define a source field name from which the json array mapper will read the json array. Leaving this empty, means reading the body of the message itself.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "OtlpReceiver": {
      "description": "OTLP Receiver.",
      "properties": {
        "endpoint": {
          "description": "OTLP GRPC endpoint definition. Example: 0.0.0.0:<port>.",
          "oneOf": [
            {
              "pattern": "^[a-zA-Z0-9-\\.]+:[0-9]+$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "endpoint"
      ],
      "type": "object"
    },
    "PersistenceConfigurations": {
      "description": "Persistence options to all pipelines in the instance.",
      "properties": {
        "persistentVolumeName": {
          "description": "The name of the mounted persistent volume.",
          "type": "string"
        }
      },
      "required": [
        "persistentVolumeName"
      ],
      "type": "object"
    },
    "Pipeline": {
      "description": "Pipeline Info.",
      "properties": {
        "exporters": {
          "description": "Reference to exporters configured for the pipeline.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "Name of the pipeline.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "processors": {
          "description": "Reference to processors configured for the pipeline.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "receivers": {
          "description": "Reference to receivers configured for the pipeline.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "description": "The type of pipeline",
          "oneOf": [
            {
              "enum": [
                "Logs"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "type",
        "receivers",
        "exporters"
      ],
      "type": "object"
    },
    "PipelineGroupProperties": {
      "description": "Properties that need to be specified to create a new pipeline group instance.",
      "properties": {
        "executionPlacement": {
          "description": "Constraints for guiding the execution environment of the pipeline group.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExecutionPlacement"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "exporters": {
          "description": "The exporters specified for a pipeline group instance.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Exporter"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "processors": {
          "description": "The processors specified for a pipeline group instance.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Processor"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "receivers": {
          "description": "The receivers specified for a pipeline group instance.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Receiver"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "replicas": {
          "description": "Defines the amount of replicas of the pipeline group instance.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "service": {
          "description": "The service section for a given pipeline group instance.",
          "oneOf": [
            {
              "$ref": "#/definitions/Service"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tlsConfigurations": {
          "description": "TLS configurations for the pipeline group instance.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/TlsConfiguration"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "receivers",
        "processors",
        "exporters",
        "service"
      ],
      "type": "object"
    },
    "PlacementConstraint": {
      "description": "A placement constraint defines requirements for where pipeline group instances can be scheduled.",
      "properties": {
        "capability": {
          "description": "The capability or attribute key used to match compute unit properties.",
          "type": "string"
        },
        "operator": {
          "description": "The match operator, e.g., In, NotIn, Exists, DoesNotExist.",
          "oneOf": [
            {
              "enum": [
                "In",
                "NotIn",
                "Exists",
                "DoesNotExist"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "values": {
          "description": "The values to match against. Not required for Exists/DoesNotExist.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "capability",
        "operator"
      ],
      "type": "object"
    },
    "PrivateKeySource": {
      "description": "Configuration for private key source location.",
      "properties": {
        "location": {
          "description": "Location of the private key source.",
          "type": "string"
        },
        "subLocation": {
          "description": "Sub-location within the private key source.",
          "type": "string"
        },
        "type": {
          "description": "The type of private key source. Only kubernetesSecret is supported for security reasons.",
          "oneOf": [
            {
              "enum": [
                "kubernetesSecret"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type",
        "location",
        "subLocation"
      ],
      "type": "object"
    },
    "Processor": {
      "description": "Processor Info.",
      "properties": {
        "batch": {
          "description": "Batch processor configurations.",
          "oneOf": [
            {
              "$ref": "#/definitions/BatchProcessor"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of processor.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "transformLanguage": {
          "description": "Transform language processor configurations.",
          "oneOf": [
            {
              "$ref": "#/definitions/TransformLanguageProcessor"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "description": "The type of processor.",
          "oneOf": [
            {
              "enum": [
                "Batch",
                "TransformLanguage",
                "MicrosoftSyslog",
                "MicrosoftCommonSecurityLog"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type",
        "name"
      ],
      "type": "object"
    },
    "Receiver": {
      "description": "Receiver Info.",
      "properties": {
        "name": {
          "description": "The name of receiver.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "otlp": {
          "description": "OTLP receiver configurations. This field is mandatory for OTLP receivers.",
          "oneOf": [
            {
              "$ref": "#/definitions/OtlpReceiver"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "syslog": {
          "description": "Syslog configurations. This field is mandatory for syslog type receivers.",
          "oneOf": [
            {
              "$ref": "#/definitions/SyslogReceiver"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tlsConfiguration": {
          "description": "Reference to a named TLS configuration. If not specified, default TLS configuration is used.",
          "type": "string"
        },
        "type": {
          "description": "The type of receiver.",
          "oneOf": [
            {
              "enum": [
                "Syslog",
                "OTLP",
                "UDP"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "udp": {
          "description": "UDP receiver configurations. This field is mandatory for UDP receivers.",
          "oneOf": [
            {
              "$ref": "#/definitions/UdpReceiver"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type",
        "name"
      ],
      "type": "object"
    },
    "RecordMap": {
      "description": "Record map for schema in azure monitor.",
      "properties": {
        "from": {
          "description": "Record Map Key.",
          "type": "string"
        },
        "to": {
          "description": "Record Map Value.",
          "type": "string"
        }
      },
      "required": [
        "from",
        "to"
      ],
      "type": "object"
    },
    "ResourceMap": {
      "description": "Resource map for schema in azure monitor.",
      "properties": {
        "from": {
          "description": "Resource Map Key.",
          "type": "string"
        },
        "to": {
          "description": "Resource Map Value.",
          "type": "string"
        }
      },
      "required": [
        "from",
        "to"
      ],
      "type": "object"
    },
    "SchemaMap": {
      "description": "Schema map for azure monitor for logs.",
      "properties": {
        "recordMap": {
          "description": "Record Map.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/RecordMap"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resourceMap": {
          "description": "Resource Map captures information about the entity for which telemetry is recorded. For example, metrics exposed by a Kubernetes container can be linked to a resource that specifies the cluster, namespace, pod, and container name.Resource may capture an entire hierarchy of entity identification. It may describe the host in the cloud and specific container or an application running in the process.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/ResourceMap"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scopeMap": {
          "description": "A scope map is a logical unit of the application code with which the emitted telemetry can be associated.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/ScopeMap"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "recordMap"
      ],
      "type": "object"
    },
    "ScopeMap": {
      "description": "Scope map for schema in azure monitor.",
      "properties": {
        "from": {
          "description": "Scope Map Key.",
          "type": "string"
        },
        "to": {
          "description": "Scope Map Value.",
          "type": "string"
        }
      },
      "required": [
        "from",
        "to"
      ],
      "type": "object"
    },
    "Service": {
      "description": "Service Info.",
      "properties": {
        "persistence": {
          "description": "Persistence options to all pipelines in the instance.",
          "oneOf": [
            {
              "$ref": "#/definitions/PersistenceConfigurations"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "pipelines": {
          "description": "Pipelines belonging to a given pipeline group.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Pipeline"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "pipelines"
      ],
      "type": "object"
    },
    "SyslogReceiver": {
      "description": "Base receiver using TCP as transport protocol.",
      "properties": {
        "allowSkipPriHeader": {
          "description": "Configure the receiver to allow parsing of messages without the PRI header. Default false.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "endpoint": {
          "description": "Syslog receiver endpoint definition. Example: 0.0.0.0:<port>.",
          "oneOf": [
            {
              "pattern": "^[a-zA-Z0-9-\\.]+:[0-9]+$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "protocol": {
          "description": "Protocol to parse syslog messages. Default rfc3164",
          "oneOf": [
            {
              "enum": [
                "rfc3164",
                "rfc5424"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "transportProtocol": {
          "description": "Transport protocol. Default tcp.",
          "oneOf": [
            {
              "enum": [
                "tcp",
                "udp"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "endpoint"
      ],
      "type": "object"
    },
    "TlsConfiguration": {
      "description": "TLS configuration that can be referenced by receivers.",
      "properties": {
        "clientCa": {
          "description": "Certificate source configuration for the client CA certificate for validating client certificates. If not specified, default CA certificates are used.",
          "oneOf": [
            {
              "$ref": "#/definitions/CertificateSource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "mode": {
          "description": "The TLS security mode for receivers using this configuration. Default is 'mutualTls'.",
          "oneOf": [
            {
              "enum": [
                "disabled",
                "serverOnly",
                "mutualTls"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of the TLS configuration.",
          "oneOf": [
            {
              "pattern": "^(?!-)[a-zA-Z0-9-]{3,32}[^-]$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tlsCertificate": {
          "description": "TLS certificate and its private key. If not specified, default TLS certificate is used.",
          "oneOf": [
            {
              "$ref": "#/definitions/CertificateWithKey"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "TransformLanguageProcessor": {
      "description": "Transform language processor.",
      "properties": {
        "transformStatement": {
          "description": "Transform statement to execute over the data passing through the processor.",
          "maxLength": 10000,
          "minLength": 1,
          "type": "string"
        }
      },
      "required": [
        "transformStatement"
      ],
      "type": "object"
    },
    "UdpReceiver": {
      "description": "Receiver using UDP as transport protocol.",
      "properties": {
        "encoding": {
          "description": "The encoding of the stream being received.",
          "oneOf": [
            {
              "enum": [
                "nop",
                "utf-8",
                "utf-16le",
                "utf-16be",
                "ascii",
                "big5"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "endpoint": {
          "description": "TCP endpoint definition. Example: 0.0.0.0:<port>.",
          "oneOf": [
            {
              "pattern": "^[a-zA-Z0-9-\\.]+:[0-9]+$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "jsonArrayMapper": {
          "description": "Json array mapper - allows this udp receiver to parse a value from a given source field as a json array, match a key to each parsed value and output the key-value map to a given output field.",
          "oneOf": [
            {
              "$ref": "#/definitions/JsonArrayMapper"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "readQueueLength": {
          "description": "Max read queue length.",
          "oneOf": [
            {
              "default": 1000,
              "maximum": 100000,
              "minimum": 100,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "endpoint"
      ],
      "type": "object"
    }
  }
}